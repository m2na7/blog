---
title: generatePathë¥¼ í™œìš©í•´ íƒ€ì… ì•ˆì „ì„±ê³¼ DX ë‘˜ ë‹¤ ì¡ê¸°
description: 'react-routerì—ì„œ ë™ì  URLì„ Type-Safeí•˜ê²Œ ìƒì„±í•˜ë©´ì„œë„, DXë¥¼ ë†“ì¹˜ì§€ ì•Šìœ¼ë ¤ í–ˆë˜ ê²½í—˜ì„ ê³µìœ í•´ìš”.'
author: 'ê°•ë¯¼í•˜'
date: '2025-07-31'
slug: 'type-safe-routing'
thumbnail: './assets/thumbnail.webp'
---

![thumbnail](./assets/thumbnail.webp)

# React Routerì—ì„œ generatePathë¥¼ í™œìš©í•´ íƒ€ì… ì•ˆì „ì„±ê³¼ DX ë‘˜ ë‹¤ ì¡ê¸°

ë™ì  URLì„ Type-Safeí•˜ê²Œ ìƒì„±í•˜ë©´ì„œë„, DXë¥¼ ë†“ì¹˜ì§€ ì•Šìœ¼ë ¤ í–ˆë˜ ê²½í—˜ì„ ì ì—ˆì–´ìš”.

TypeScriptë¡œ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, í•­ìƒ ê³ ë¯¼ë˜ëŠ” ì§ˆë¬¸ì´ ìˆìŠµë‹ˆë‹¤.

> "ì–¼ë§ˆë‚˜ ì•ˆì „í•˜ê²Œ íƒ€ì…ì„ ì‚¬ìš©í•  ê²ƒì¸ê°€?"
>
> **"ê·¸ë¦¬ê³  ê°œë°œì ê²½í—˜(DX)ì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©´ì„œë„ ì´ë¥¼ ì‹¤í˜„í•  ìˆ˜ ìˆì„ê¹Œ?"**

ì €ëŠ” confeti í”„ë¡œì íŠ¸ì—ì„œ React Routerë¡œ ë™ì  ë¼ìš°íŒ…ì„ êµ¬ì„±í•  ë•Œ **íƒ€ì… ì•ˆì •ì„±ê³¼ ê°œë°œì ê²½í—˜(DX)** ì‚¬ì´ì˜ ê· í˜•ì„ ê³ ë¯¼í–ˆê³ , ì´ì— ëŒ€í•´ êµ¬ì¡°ì ìœ¼ë¡œ ê°œì„ í•œ ê²½í—˜ì„ ê³µìœ í•´ë³´ë ¤ í•´ìš”.

## 1. **ìš°ì„  ë¼ìš°íŠ¸ë¥¼ íƒ€ì…ìœ¼ë¡œ ë‹¤ë¤„ë³´ì.**

ë³´í†µ ë¼ìš°íŠ¸ë¥¼ ìƒìˆ˜ë¡œ ì •ì˜í•  ë•Œ

```tsx
export const routePath = {
  USER_DETAIL: '/users/:userId',
}
```

í•´ë‹¹ ë°©ì‹ì„ ë§ì´ ì‚¬ìš©í•  í…ë°, ì´ ê°ì²´ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ ë¼ìš”.

```tsx
const routePath = {
  USER_DETAIL: string;
};
```

ì´ë ‡ê²Œ ë˜ë©´ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì¶”ì¶œí•˜ê±°ë‚˜ ìë™ì™„ì„±, ê²½ë¡œì— ë”°ë¥¸ íŒŒë¼ë¯¸í„° ë§¤í•‘ ë“±ì´ ëª¨ë‘ **ë¶ˆê°€ëŠ¥**í•´ì ¸ìš”.

ì¦‰, `"users/:userId"`ë¼ëŠ” êµ¬ì²´ì ì¸ ê²½ë¡œ ì •ë³´ê°€ íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì—, ì´í›„ **ê²½ë¡œë¥¼ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì… ìœ ì¶”ë¥¼ í•˜ê¸°ê°€ ì–´ë ¤ì›Œìš”.**

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê²ƒì´ ë°”ë¡œ `as const`ì…ë‹ˆë‹¤ !

```tsx
export const routePath = {
  USER: '/users',
  USER_DETAIL: '/users/:userId',

  CONCERT_DETAIL: '/concert-detail/:typeId',
  FESTIVAL_DETAIL: '/festival-detail/:typeId',
} as const

// ìœ ë‹ˆì˜¨ íƒ€ì… ìƒì„±
export type Routes = (typeof routePath)[keyof typeof routePath]
// â†’ "/users" | "/users/:userId" | "/concert-detail/:typeId" ...
```

`as const`ë¥¼ ë¶™ì´ë©´ ê°ì²´ ë‚´ë¶€ì˜ ëª¨ë“  ê°’ì´ **readonlyí•œ ë¦¬í„°ëŸ´ íƒ€ì…**ìœ¼ë¡œ ê³ ì •ë¼ìš”.

`"/users/:userId"`ëŠ” ì´ì œ `string`ì´ ì•„ë‹ˆë¼`"/users/:userId"`**ë¼ëŠ” ì •í™•í•œ íƒ€ì…**ì´ ë˜ì—ˆê³ , ìœ„ì— ì‘ì„±í•œ `type Routes` ì²˜ëŸ¼ ì „ì²´ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.

## 2. ë™ì  ë¼ìš°íŠ¸ì—ì„œ íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ì¶”ì¶œí•´ë³´ì

ë¼ìš°íŠ¸ ê²½ë¡œëŠ” `:userId`, `:postId`ì™€ ê°™ì€ ë™ì  ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì–´ìš”.

ì´ì œ ì´ë¥¼ **íƒ€ì…ìœ¼ë¡œ ì¶”ì¶œ**í•˜ë©´ ë” ì•ˆì „í•˜ê²Œ ë¼ìš°íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.

```tsx
type PathParam<Path extends string> =
  Path extends `${string}:${infer Param}/${infer Rest}`
    ? Param | PathParam<`/${Rest}`>
    : Path extends `${string}:${infer Param}`
      ? Param
      : never

type Example = PathParam<'/users/:userId/posts/:postId'>
// â†’ "userId" | "postId"
```

ì´ì œ ì‘ì„±í•œ `PathParam` íƒ€ì…ì„ ë°”íƒ•ìœ¼ë¡œ type-safeí•œ ë™ì  ê²½ë¡œë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” `buildPath` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤ë©´ Bestì¼ ê±°ì˜ˆìš”.

```tsx
buildPath('/posts/:postId/comments/:commentId', {
  postId: 10,
  commentId: 5,
}) // âœ… "/posts/10/comments/5"

buildPath('/product/:productId', { productId: '1234' })
// âœ… "/product/electronics/1234"

buildPath('/users/:userId/:name', { name: 'confeti' })
// âŒ Error: Property 'userId' is missing

buildPath('/users/:userId/:name', { id: '1', name: 'confeti' })
// âŒ Error: Object literal may only specify known properties, and 'id' does not exist in type ...
```

í•˜ì§€ë§Œ, ì‚¬ì‹¤ ì´ëŸ° í•¨ìˆ˜ë¥¼ ì§ì ‘ ë§Œë“¤ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤!

React RouterëŠ” ì´ë¯¸ ë‚´ë¶€ì ìœ¼ë¡œ ì´ëŸ° ì—­í• ì„ í•˜ëŠ” `generatePath` í•¨ìˆ˜ë¥¼ ì œê³µí•˜ë©°,

`PathParam` ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë„ ë‚´ë¶€ì ìœ¼ë¡œ ì •ì˜ë˜ì–´ ìˆì–´ìš”.

## 3. **generatePathì™€ í•¨ê»˜í•˜ëŠ”** Type-safe**í•œ URL ìƒì„±**

React Routerì—ì„œ ì œê³µí•˜ëŠ” `generatePath` í•¨ìˆ˜ëŠ”

ê²½ë¡œ í…œí”Œë¦¿(ì˜ˆ: `"/users/:userId"`)ì— íŒŒë¼ë¯¸í„° ê°ì²´ë¥¼ ë„£ì–´ ì‹¤ì œ URL ë¬¸ìì—´ì„ ìƒì„±í•´ì£¼ëŠ” ì—­í• ì„ í•´ìš”.

![generatePath API ë¬¸ì„œ](./assets/generate-path.webp)
_https://v5.reactrouter.com/web/api/generatePath_

ê·¸ëŸ°ë° ì´ í•¨ìˆ˜ ìì²´ëŠ” íŒŒë¼ë¯¸í„° íƒ€ì…ì´ ë¬¸ìì—´ ê¸°ë°˜ì´ê¸´ í•´ë„, ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œ ë¯¸ë¦¬ ì •ì˜í•œ ë¼ìš°íŠ¸ íƒ€ì…ê³¼ ì§ì ‘ ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šì•„ ì™„ì „í•œ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•˜ì§€ ëª»í•´ìš”.

ì´ë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´, í”„ë¡œì íŠ¸ ë‚´ ë¼ìš°íŠ¸ íƒ€ì…(`Routes`)ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ `generatePath`ë¥¼ **ë˜í•‘í•œ** `buildPath` **í•¨ìˆ˜**ë¥¼ ë§Œë“¤ì–´ ë´¤ì–´ìš”.

```tsx
import { generatePath } from 'react-router'

import { type Routes } from '@shared/router/path'

export function buildPath<P extends Routes>(
  ...args: Parameters<typeof generatePath<P>>
): string {
  return generatePath(...args)
}
```

ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ íƒ€ì… ì•ˆì „ì„±ì´ ìƒê²¨ìš”.

```tsx
export const routePath = {
  USER: '/users',
  USER_DETAIL: '/users/:userId',
  CONCERT_DETAIL: '/concert-detail/:typeId',
} as const

const URL = buildPath(routePath.CONCERT_DETAIL, { typeId }) // âœ…

const URL = buildPath('/concert-detail/:typeId', { typeId }) // âœ…

const URL = buildPath(routePath.CONCERT_DETAIL, { userId })
// âŒ ê°œì²´ ë¦¬í„°ëŸ´ì€ ì•Œë ¤ì§„ ì†ì„±ë§Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©° '{ typeId: string; }' í˜•ì‹ì— 'userId'ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.

const URL = buildPath('/concert-details/:typeId', { typeId })
// âŒ "/concert-details/:typeId"' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'Routes' í˜•ì‹ì˜ ë§¤ê°œ ë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

## 4. **ì™œ** **generatePath** **ëŠ”** **string** **ë§Œì„ í—ˆìš©í• ê¹Œ?**

í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¶ˆí¸í•œ ì ì´ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const URL = buildPath('/concert-detail/:typeId', { typeId: 123 })
// âŒ ì»´íŒŒì¼ ì—ëŸ¬ â€” 'id'ëŠ” stringì´ì–´ì•¼ í•¨

const URL = buildPath('/concert-detail/:typeId', { typeId: String(typeId) })
// âœ…
```

`number` íƒ€ì…ì˜ IDë¥¼ ê·¸ëŒ€ë¡œ ë„˜ê¸°ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•´ìš”. ëŸ°íƒ€ì„ì—ì„  ì˜ ì‘ë™í•˜ì§€ë§Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ë¥¼ í—ˆìš©í•˜ì§€ ì•Šì•„ìš”.

![React Router Discussions](./assets/react-router-discussion.webp)
_react-router Discussions_

ì²˜ìŒì—ëŠ” ì™œ `string`ë§Œì„ í—ˆìš©í•˜ëŠ”ì§€ ì˜ë¬¸ì´ ì»¤ì„œ Discussionì„ ë‚¨ê¸°ê¸°ë„ í–ˆì–´ìš”.

ìì„¸íˆ ì°¾ì•„ë³´ë‹ˆ ì´ì „ë¶€í„° ì €ì™€ê°™ì€ ê³ ë¯¼ì„ í–ˆë˜ ë¶„ë“¤ì´ ìˆì—ˆì–´ìš”.

![TypeScript-DOM-lib-generator](./assets/type-script-dom-lib-generator.webp)
_https://github.com/remix-run/react-router/discussions/10393_

ê·¸ë¦¬ê³  **TypeScript-DOM-lib-generator** ì—ì„œë„ ìœ ì‚¬í•œ í† ë¡ ì„ ë‚˜ëˆˆ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆì–´ìš”.

ì´ì— ëŒ€í•´ ì¡°ê¸ˆ ë” ì•Œì•„ë³¸ ê²°ê³¼, URLì€ ë³¸ì§ˆì ìœ¼ë¡œ **ë¬¸ìì—´ ê¸°ë°˜ ì‹œìŠ¤í…œ**ì´ë¼ëŠ” ì ì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆì–´ìš”.

[MDN URL API ë¬¸ì„œ](https://developer.mozilla.org/ko/docs/Web/API/URL)

React Router íŒ€ì€ `generatePath` í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„° íƒ€ì…ì„ `string`ìœ¼ë¡œ ì œí•œí–ˆëŠ”ë°, ì´ëŠ” ë‹¨ìˆœí•œ ì œì•½ì´ ì•„ë‹ˆë¼ ì›¹ URL ì‹œìŠ¤í…œì˜ ë³¸ì§ˆì„ ë°˜ì˜í•œ ì„¤ê³„ì—ìš”.

- `window.location.pathname` â†’ í•­ìƒ `string`
- `new URL().pathname` â†’ í•­ìƒ `string`
- `encodeURIComponent()` â†’ `string`ë§Œ ë°›ìŒ

React RouterëŠ” ì´ëŸ¬í•œ ì›¹ì˜ ê·œì¹™ì„ ë”°ë¥´ê³ ì **ëª…ì‹œì ìœ¼ë¡œ** `string`**ë§Œ í—ˆìš©**í•œ ê²ƒì´ì—ìš”.

## 5. í•˜ì§€ë§Œ ì‹¤ì œ í”„ë¡œì íŠ¸(confeti)ì—ì„œëŠ”

confeti í”„ë¡œì íŠ¸ì—ì„œëŠ” ì„œë²„ APIë¡œë¶€í„° ë°›ì•„ì˜¤ëŠ” ëŒ€ë¶€ë¶„ì˜ `id` ê°’ì´ `number` íƒ€ì…ì´ì—ìš”.

ê·¸ë¦¬ê³  ë§¤ë²ˆ ì´ ê°’ì„ ëª…ì‹œì ìœ¼ë¡œ `string`ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì‘ì—…ì€ ê½¤ ë²ˆê±°ë¡œìš´ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ë¡œ ëŠê¼ˆì–´ìš”.

ì´ëŸ° ë°˜ë³µì ì¸ ë³€í™˜ ê³¼ì •ì€ **ê°œë°œì ê²½í—˜(DX)ì„ ì €í•˜ì‹œí‚¨ë‹¤ê³  ìƒê°í–ˆì–´ìš”.**

ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì´, `buildPath` ë˜í¼í•¨ìˆ˜ ë‚´ì—ì„œ `number` íƒ€ì…ë„ í—ˆìš©í•˜ë˜ ë‚´ë¶€ì—ì„œ ìë™ìœ¼ë¡œ `string`ìœ¼ë¡œ ë³€í™˜í•´ì£¼ë„ë¡ í–ˆì–´ìš”.

```tsx
export const buildPath = <P extends Routes>(
  path: P,
  params: { [key in PathParam<P>]: string | number }
): string => {
  const convertedParams = Object.entries(params).reduce(
    (acc, [key, value]) => {
      acc[key as PathParam<P>] = String(value)
      return acc
    },
    {} as { [key in PathParam<P>]: string }
  )

  return generatePath(path, convertedParams)
}
```

ì´ë ‡ê²Œ í•˜ë©´ ë‚´ë¶€ì—ì„œ íƒ€ì… ë³€í™˜ì„ ì±…ì„ì ¸ì£¼ê¸° ë•Œë¬¸ì—, **í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œëŠ” ë” ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.** (`number` íƒ€ì… ë“œë””ì–´ í—ˆìš©...)

ì¦‰, íƒ€ì… ì•ˆì •ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„ ê°œë°œìì˜ í¸ì˜ì„±ì„ ë†’ì¸ ì…ˆì´ì—ìš”.

```tsx
buildPath(routePath.CONCERT_DETAIL, { typeId: 123 })
// âœ… â†’ "/concert-detail/123"

buildPath(routePath.USER_DETAIL, { userId: '456' })
// âœ… â†’ "/users/456"

buildPath('/users/:userId/:name', { userId: 1, name: 'confeti' })
// âœ… â†’ "/users/1/confeti"
```

## ê²°ë¡  ğŸš€

> React RouterëŠ” ì›¹ì˜ ì›ì¹™ê³¼ íƒ€ì… ì•ˆì •ì„±ì„ ì˜ ì§€í‚¤ë„ë¡ ì„¤ê³„ë˜ì–´ìˆì–´ìš”.
>
> í•˜ì§€ë§Œ ì‹¤ì œ ê°œë°œ í™˜ê²½ì—ì„œëŠ” **ì—„ê²©í•œ íƒ€ì… ì‹œìŠ¤í…œì´ ê°œë°œ íë¦„ì„ ë°©í•´í•  ìˆ˜ë„** ìˆì–´ìš”.
>
> ê²°êµ­ ì¤‘ìš”í•œ ê±´ **ì•ˆì „ì„±ê³¼ ìƒì‚°ì„± ì‚¬ì´ì—ì„œ ì ì ˆí•œ ê· í˜•ì„ ì°¾ëŠ” ê²ƒ**ì´ì—ìš”. ì´ì²˜ëŸ¼ ì‘ì€ ë˜í¼ í•¨ìˆ˜ í•˜ë‚˜ë¡œ íŒ€ì— ë§ëŠ” ê²½í—˜ì„ ë§Œë“¤ì–´ë³´ëŠ” ê²ƒë„ ì¶©ë¶„íˆ ê°€ì¹˜ ìˆë‹¤ê³  ìƒê°í•´ìš”.
